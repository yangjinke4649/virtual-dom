{"version":3,"file":"bundle.js","sources":["../lib/util.js","../lib/vnode.js","../lib/vtext.js","../lib/h.js","../node_modules/dom-walk/index.js","../node_modules/min-document/dom-comment.js","../node_modules/min-document/dom-text.js","../node_modules/min-document/event/dispatch-event.js","../node_modules/min-document/event/add-event-listener.js","../node_modules/min-document/event/remove-event-listener.js","../node_modules/min-document/serialize.js","../node_modules/min-document/dom-element.js","../node_modules/min-document/dom-fragment.js","../node_modules/min-document/event.js","../node_modules/min-document/document.js","../node_modules/min-document/index.js","../node_modules/global/document.js","../node_modules/is-object/index.js","../lib/apply-properties.js","../lib/createElement.js","../lib/vpatch.js","../lib/diff.js"],"sourcesContent":["export function setAttr(node, key, value) {\r\n  switch (key) {\r\n    case 'style': \r\n      node.style.cssText = value\r\n      break\r\n    case 'value':\r\n      var tagName = node.tagName || ''\r\n      tageName = tagName.toLowerCase()\r\n      if (tagName === 'input' || tagName === 'textarea') {\r\n        node.value = value\r\n      } else {\r\n        node.setAttribute(key, value)\r\n      }\r\n      break\r\n    default:\r\n      node.setAttribute(key, value)\r\n      break  \r\n  }\r\n} \r\nexport function isVNode(x) {\r\n  return x && x.type === \"VirtualNode\"\r\n}\r\nexport function isVText(x) {\r\n  return x && x.type === \"VirtualText\"\r\n}\r\nexport function isArray(x) {\r\n  return Array.isArray(x)\r\n}","// 构建虚拟节点\r\nimport { isVNode } from './util'\r\nexport default class VNode {\r\n  constructor(tagName, properties, children) {\r\n    this.tagName = tagName\r\n    this.properties = properties || {}\r\n    this.children = children || []\r\n\r\n    var count = (children && children.length) || 0\r\n    var descendants = 0\r\n\r\n    this.children.forEach(child => {\r\n      if(isVNode(child)) {\r\n        descendants += child.count || 0\r\n      }\r\n    })\r\n    this.count = count + descendants // 所有子虚拟节点的数量\r\n  }\r\n}\r\nVNode.prototype.type = 'VirtualNode'\r\n","// 虚拟文本节点\r\nexport default class VText {\r\n  constructor(text) {\r\n    this.text = String(text)\r\n  }\r\n  type() {\r\n    return \"VirtualText\"\r\n  }\r\n}\r\nVText.prototype.type = 'VirtualText'\r\n","// 创建虚拟节点，为了构建虚拟DOM树，其实对VNode的封装,增加其灵活性\r\n// import isArray from 'x-is-array'\r\nimport VNode from './vnode'\r\nimport VText from './vtext'\r\n// import parseTag from './parse-tag'\r\nimport { isVText, isVNode } from './util'\r\nexport default function h(tagName, properties, children) {\r\n  var childNodes = []\r\n  var tag, props\r\n\r\n  // 当没传properties，children会当成properties，这里做转化\r\n  if (!children && isChildren(properties)) {\r\n    children = properties;\r\n    props = {};\r\n  }\r\n\r\n  props = props || properties || {};\r\n  // tag = parseTag(tagName, props)\r\n\r\n  if (children !== undefined && children !== null) {\r\n    addChild(children, childNodes);\r\n  }\r\n\r\n  return new VNode(tagName, props, childNodes)\r\n}\r\nfunction addChild(children, childNodes) {\r\n  if (typeof children === 'string') {\r\n    childNodes.push(new VText(children))\r\n  } else if (typeof children === 'number') {\r\n    childNodes.push(new VText(String(children)))\r\n  } else if (isChild(children)) {\r\n    childNodes.push(children);\r\n  } else if (isArray(children)) {\r\n    children.forEach(child => {\r\n      addChild(child, childNodes)\r\n    })\r\n  } else {\r\n    return\r\n  }\r\n}\r\nfunction isChild(x) {\r\n  return isVNode(x) || isVText(x);\r\n}\r\n\r\nfunction isChildren(x) {\r\n  return typeof x === 'string' || isArray(x) || isChild(x);\r\n}\r\nfunction isArray(x) {\r\n  return Array.isArray(x)\r\n}\r\n","var slice = Array.prototype.slice\n\nmodule.exports = iterativelyWalk\n\nfunction iterativelyWalk(nodes, cb) {\n    if (!('length' in nodes)) {\n        nodes = [nodes]\n    }\n    \n    nodes = slice.call(nodes)\n\n    while(nodes.length) {\n        var node = nodes.shift(),\n            ret = cb(node)\n\n        if (ret) {\n            return ret\n        }\n\n        if (node.childNodes && node.childNodes.length) {\n            nodes = slice.call(node.childNodes).concat(nodes)\n        }\n    }\n}\n","module.exports = Comment\n\nfunction Comment(data, owner) {\n    if (!(this instanceof Comment)) {\n        return new Comment(data, owner)\n    }\n\n    this.data = data\n    this.nodeValue = data\n    this.length = data.length\n    this.ownerDocument = owner || null\n}\n\nComment.prototype.nodeType = 8\nComment.prototype.nodeName = \"#comment\"\n\nComment.prototype.toString = function _Comment_toString() {\n    return \"[object Comment]\"\n}\n","module.exports = DOMText\n\nfunction DOMText(value, owner) {\n    if (!(this instanceof DOMText)) {\n        return new DOMText(value)\n    }\n\n    this.data = value || \"\"\n    this.length = this.data.length\n    this.ownerDocument = owner || null\n}\n\nDOMText.prototype.type = \"DOMTextNode\"\nDOMText.prototype.nodeType = 3\nDOMText.prototype.nodeName = \"#text\"\n\nDOMText.prototype.toString = function _Text_toString() {\n    return this.data\n}\n\nDOMText.prototype.replaceData = function replaceData(index, length, value) {\n    var current = this.data\n    var left = current.substring(0, index)\n    var right = current.substring(index + length, current.length)\n    this.data = left + value + right\n    this.length = this.data.length\n}\n","module.exports = dispatchEvent\n\nfunction dispatchEvent(ev) {\n    var elem = this\n    var type = ev.type\n\n    if (!ev.target) {\n        ev.target = elem\n    }\n\n    if (!elem.listeners) {\n        elem.listeners = {}\n    }\n\n    var listeners = elem.listeners[type]\n\n    if (listeners) {\n        return listeners.forEach(function (listener) {\n            ev.currentTarget = elem\n            if (typeof listener === 'function') {\n                listener(ev)\n            } else {\n                listener.handleEvent(ev)\n            }\n        })\n    }\n\n    if (elem.parentNode) {\n        elem.parentNode.dispatchEvent(ev)\n    }\n}\n","module.exports = addEventListener\n\nfunction addEventListener(type, listener) {\n    var elem = this\n\n    if (!elem.listeners) {\n        elem.listeners = {}\n    }\n\n    if (!elem.listeners[type]) {\n        elem.listeners[type] = []\n    }\n\n    if (elem.listeners[type].indexOf(listener) === -1) {\n        elem.listeners[type].push(listener)\n    }\n}\n","module.exports = removeEventListener\n\nfunction removeEventListener(type, listener) {\n    var elem = this\n\n    if (!elem.listeners) {\n        return\n    }\n\n    if (!elem.listeners[type]) {\n        return\n    }\n\n    var list = elem.listeners[type]\n    var index = list.indexOf(listener)\n    if (index !== -1) {\n        list.splice(index, 1)\n    }\n}\n","module.exports = serializeNode\n\nvar voidElements = [\"area\",\"base\",\"br\",\"col\",\"embed\",\"hr\",\"img\",\"input\",\"keygen\",\"link\",\"menuitem\",\"meta\",\"param\",\"source\",\"track\",\"wbr\"];\n\nfunction serializeNode(node) {\n    switch (node.nodeType) {\n        case 3:\n            return escapeText(node.data)\n        case 8:\n            return \"<!--\" + node.data + \"-->\"\n        default:\n            return serializeElement(node)\n    }\n}\n\nfunction serializeElement(elem) {\n    var strings = []\n\n    var tagname = elem.tagName\n\n    if (elem.namespaceURI === \"http://www.w3.org/1999/xhtml\") {\n        tagname = tagname.toLowerCase()\n    }\n\n    strings.push(\"<\" + tagname + properties(elem) + datasetify(elem))\n\n    if (voidElements.indexOf(tagname) > -1) {\n        strings.push(\" />\")\n    } else {\n        strings.push(\">\")\n\n        if (elem.childNodes.length) {\n            strings.push.apply(strings, elem.childNodes.map(serializeNode))\n        } else if (elem.textContent || elem.innerText) {\n            strings.push(escapeText(elem.textContent || elem.innerText))\n        } else if (elem.innerHTML) {\n            strings.push(elem.innerHTML)\n        }\n\n        strings.push(\"</\" + tagname + \">\")\n    }\n\n    return strings.join(\"\")\n}\n\nfunction isProperty(elem, key) {\n    var type = typeof elem[key]\n\n    if (key === \"style\" && Object.keys(elem.style).length > 0) {\n      return true\n    }\n\n    return elem.hasOwnProperty(key) &&\n        (type === \"string\" || type === \"boolean\" || type === \"number\") &&\n        key !== \"nodeName\" && key !== \"className\" && key !== \"tagName\" &&\n        key !== \"textContent\" && key !== \"innerText\" && key !== \"namespaceURI\" &&  key !== \"innerHTML\"\n}\n\nfunction stylify(styles) {\n    if (typeof styles === 'string') return styles\n    var attr = \"\"\n    Object.keys(styles).forEach(function (key) {\n        var value = styles[key]\n        key = key.replace(/[A-Z]/g, function(c) {\n            return \"-\" + c.toLowerCase();\n        })\n        attr += key + \":\" + value + \";\"\n    })\n    return attr\n}\n\nfunction datasetify(elem) {\n    var ds = elem.dataset\n    var props = []\n\n    for (var key in ds) {\n        props.push({ name: \"data-\" + key, value: ds[key] })\n    }\n\n    return props.length ? stringify(props) : \"\"\n}\n\nfunction stringify(list) {\n    var attributes = []\n    list.forEach(function (tuple) {\n        var name = tuple.name\n        var value = tuple.value\n\n        if (name === \"style\") {\n            value = stylify(value)\n        }\n\n        attributes.push(name + \"=\" + \"\\\"\" + escapeAttributeValue(value) + \"\\\"\")\n    })\n\n    return attributes.length ? \" \" + attributes.join(\" \") : \"\"\n}\n\nfunction properties(elem) {\n    var props = []\n    for (var key in elem) {\n        if (isProperty(elem, key)) {\n            props.push({ name: key, value: elem[key] })\n        }\n    }\n\n    for (var ns in elem._attributes) {\n      for (var attribute in elem._attributes[ns]) {\n        var prop = elem._attributes[ns][attribute]\n        var name = (prop.prefix ? prop.prefix + \":\" : \"\") + attribute\n        props.push({ name: name, value: prop.value })\n      }\n    }\n\n    if (elem.className) {\n        props.push({ name: \"class\", value: elem.className })\n    }\n\n    return props.length ? stringify(props) : \"\"\n}\n\nfunction escapeText(s) {\n    var str = '';\n\n    if (typeof(s) === 'string') { \n        str = s; \n    } else if (s) {\n        str = s.toString();\n    }\n\n    return str\n        .replace(/&/g, \"&amp;\")\n        .replace(/</g, \"&lt;\")\n        .replace(/>/g, \"&gt;\")\n}\n\nfunction escapeAttributeValue(str) {\n    return escapeText(str).replace(/\"/g, \"&quot;\")\n}\n","var domWalk = require(\"dom-walk\")\nvar dispatchEvent = require(\"./event/dispatch-event.js\")\nvar addEventListener = require(\"./event/add-event-listener.js\")\nvar removeEventListener = require(\"./event/remove-event-listener.js\")\nvar serializeNode = require(\"./serialize.js\")\n\nvar htmlns = \"http://www.w3.org/1999/xhtml\"\n\nmodule.exports = DOMElement\n\nfunction DOMElement(tagName, owner, namespace) {\n    if (!(this instanceof DOMElement)) {\n        return new DOMElement(tagName)\n    }\n\n    var ns = namespace === undefined ? htmlns : (namespace || null)\n\n    this.tagName = ns === htmlns ? String(tagName).toUpperCase() : tagName\n    this.nodeName = this.tagName\n    this.className = \"\"\n    this.dataset = {}\n    this.childNodes = []\n    this.parentNode = null\n    this.style = {}\n    this.ownerDocument = owner || null\n    this.namespaceURI = ns\n    this._attributes = {}\n\n    if (this.tagName === 'INPUT') {\n      this.type = 'text'\n    }\n}\n\nDOMElement.prototype.type = \"DOMElement\"\nDOMElement.prototype.nodeType = 1\n\nDOMElement.prototype.appendChild = function _Element_appendChild(child) {\n    if (child.parentNode) {\n        child.parentNode.removeChild(child)\n    }\n\n    this.childNodes.push(child)\n    child.parentNode = this\n\n    return child\n}\n\nDOMElement.prototype.replaceChild =\n    function _Element_replaceChild(elem, needle) {\n        // TODO: Throw NotFoundError if needle.parentNode !== this\n\n        if (elem.parentNode) {\n            elem.parentNode.removeChild(elem)\n        }\n\n        var index = this.childNodes.indexOf(needle)\n\n        needle.parentNode = null\n        this.childNodes[index] = elem\n        elem.parentNode = this\n\n        return needle\n    }\n\nDOMElement.prototype.removeChild = function _Element_removeChild(elem) {\n    // TODO: Throw NotFoundError if elem.parentNode !== this\n\n    var index = this.childNodes.indexOf(elem)\n    this.childNodes.splice(index, 1)\n\n    elem.parentNode = null\n    return elem\n}\n\nDOMElement.prototype.insertBefore =\n    function _Element_insertBefore(elem, needle) {\n        // TODO: Throw NotFoundError if referenceElement is a dom node\n        // and parentNode !== this\n\n        if (elem.parentNode) {\n            elem.parentNode.removeChild(elem)\n        }\n\n        var index = needle === null || needle === undefined ?\n            -1 :\n            this.childNodes.indexOf(needle)\n\n        if (index > -1) {\n            this.childNodes.splice(index, 0, elem)\n        } else {\n            this.childNodes.push(elem)\n        }\n\n        elem.parentNode = this\n        return elem\n    }\n\nDOMElement.prototype.setAttributeNS =\n    function _Element_setAttributeNS(namespace, name, value) {\n        var prefix = null\n        var localName = name\n        var colonPosition = name.indexOf(\":\")\n        if (colonPosition > -1) {\n            prefix = name.substr(0, colonPosition)\n            localName = name.substr(colonPosition + 1)\n        }\n        if (this.tagName === 'INPUT' && name === 'type') {\n          this.type = value;\n        }\n        else {\n          var attributes = this._attributes[namespace] || (this._attributes[namespace] = {})\n          attributes[localName] = {value: value, prefix: prefix}\n        }\n    }\n\nDOMElement.prototype.getAttributeNS =\n    function _Element_getAttributeNS(namespace, name) {\n        var attributes = this._attributes[namespace];\n        var value = attributes && attributes[name] && attributes[name].value\n        if (this.tagName === 'INPUT' && name === 'type') {\n          return this.type;\n        }\n        if (typeof value !== \"string\") {\n            return null\n        }\n        return value\n    }\n\nDOMElement.prototype.removeAttributeNS =\n    function _Element_removeAttributeNS(namespace, name) {\n        var attributes = this._attributes[namespace];\n        if (attributes) {\n            delete attributes[name]\n        }\n    }\n\nDOMElement.prototype.hasAttributeNS =\n    function _Element_hasAttributeNS(namespace, name) {\n        var attributes = this._attributes[namespace]\n        return !!attributes && name in attributes;\n    }\n\nDOMElement.prototype.setAttribute = function _Element_setAttribute(name, value) {\n    return this.setAttributeNS(null, name, value)\n}\n\nDOMElement.prototype.getAttribute = function _Element_getAttribute(name) {\n    return this.getAttributeNS(null, name)\n}\n\nDOMElement.prototype.removeAttribute = function _Element_removeAttribute(name) {\n    return this.removeAttributeNS(null, name)\n}\n\nDOMElement.prototype.hasAttribute = function _Element_hasAttribute(name) {\n    return this.hasAttributeNS(null, name)\n}\n\nDOMElement.prototype.removeEventListener = removeEventListener\nDOMElement.prototype.addEventListener = addEventListener\nDOMElement.prototype.dispatchEvent = dispatchEvent\n\n// Un-implemented\nDOMElement.prototype.focus = function _Element_focus() {\n    return void 0\n}\n\nDOMElement.prototype.toString = function _Element_toString() {\n    return serializeNode(this)\n}\n\nDOMElement.prototype.getElementsByClassName = function _Element_getElementsByClassName(classNames) {\n    var classes = classNames.split(\" \");\n    var elems = []\n\n    domWalk(this, function (node) {\n        if (node.nodeType === 1) {\n            var nodeClassName = node.className || \"\"\n            var nodeClasses = nodeClassName.split(\" \")\n\n            if (classes.every(function (item) {\n                return nodeClasses.indexOf(item) !== -1\n            })) {\n                elems.push(node)\n            }\n        }\n    })\n\n    return elems\n}\n\nDOMElement.prototype.getElementsByTagName = function _Element_getElementsByTagName(tagName) {\n    tagName = tagName.toLowerCase()\n    var elems = []\n\n    domWalk(this.childNodes, function (node) {\n        if (node.nodeType === 1 && (tagName === '*' || node.tagName.toLowerCase() === tagName)) {\n            elems.push(node)\n        }\n    })\n\n    return elems\n}\n\nDOMElement.prototype.contains = function _Element_contains(element) {\n    return domWalk(this, function (node) {\n        return element === node\n    }) || false\n}\n","var DOMElement = require(\"./dom-element.js\")\n\nmodule.exports = DocumentFragment\n\nfunction DocumentFragment(owner) {\n    if (!(this instanceof DocumentFragment)) {\n        return new DocumentFragment()\n    }\n\n    this.childNodes = []\n    this.parentNode = null\n    this.ownerDocument = owner || null\n}\n\nDocumentFragment.prototype.type = \"DocumentFragment\"\nDocumentFragment.prototype.nodeType = 11\nDocumentFragment.prototype.nodeName = \"#document-fragment\"\n\nDocumentFragment.prototype.appendChild  = DOMElement.prototype.appendChild\nDocumentFragment.prototype.replaceChild = DOMElement.prototype.replaceChild\nDocumentFragment.prototype.removeChild  = DOMElement.prototype.removeChild\n\nDocumentFragment.prototype.toString =\n    function _DocumentFragment_toString() {\n        return this.childNodes.map(function (node) {\n            return String(node)\n        }).join(\"\")\n    }\n","module.exports = Event\n\nfunction Event(family) {}\n\nEvent.prototype.initEvent = function _Event_initEvent(type, bubbles, cancelable) {\n    this.type = type\n    this.bubbles = bubbles\n    this.cancelable = cancelable\n}\n\nEvent.prototype.preventDefault = function _Event_preventDefault() {\n    \n}\n","var domWalk = require(\"dom-walk\")\n\nvar Comment = require(\"./dom-comment.js\")\nvar DOMText = require(\"./dom-text.js\")\nvar DOMElement = require(\"./dom-element.js\")\nvar DocumentFragment = require(\"./dom-fragment.js\")\nvar Event = require(\"./event.js\")\nvar dispatchEvent = require(\"./event/dispatch-event.js\")\nvar addEventListener = require(\"./event/add-event-listener.js\")\nvar removeEventListener = require(\"./event/remove-event-listener.js\")\n\nmodule.exports = Document;\n\nfunction Document() {\n    if (!(this instanceof Document)) {\n        return new Document();\n    }\n\n    this.head = this.createElement(\"head\")\n    this.body = this.createElement(\"body\")\n    this.documentElement = this.createElement(\"html\")\n    this.documentElement.appendChild(this.head)\n    this.documentElement.appendChild(this.body)\n    this.childNodes = [this.documentElement]\n    this.nodeType = 9\n}\n\nvar proto = Document.prototype;\nproto.createTextNode = function createTextNode(value) {\n    return new DOMText(value, this)\n}\n\nproto.createElementNS = function createElementNS(namespace, tagName) {\n    var ns = namespace === null ? null : String(namespace)\n    return new DOMElement(tagName, this, ns)\n}\n\nproto.createElement = function createElement(tagName) {\n    return new DOMElement(tagName, this)\n}\n\nproto.createDocumentFragment = function createDocumentFragment() {\n    return new DocumentFragment(this)\n}\n\nproto.createEvent = function createEvent(family) {\n    return new Event(family)\n}\n\nproto.createComment = function createComment(data) {\n    return new Comment(data, this)\n}\n\nproto.getElementById = function getElementById(id) {\n    id = String(id)\n\n    var result = domWalk(this.childNodes, function (node) {\n        if (String(node.id) === id) {\n            return node\n        }\n    })\n\n    return result || null\n}\n\nproto.getElementsByClassName = DOMElement.prototype.getElementsByClassName\nproto.getElementsByTagName = DOMElement.prototype.getElementsByTagName\nproto.contains = DOMElement.prototype.contains\n\nproto.removeEventListener = removeEventListener\nproto.addEventListener = addEventListener\nproto.dispatchEvent = dispatchEvent\n","var Document = require('./document.js');\n\nmodule.exports = new Document();\n","var topLevel = typeof global !== 'undefined' ? global :\n    typeof window !== 'undefined' ? window : {}\nvar minDoc = require('min-document');\n\nvar doccy;\n\nif (typeof document !== 'undefined') {\n    doccy = document;\n} else {\n    doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'];\n\n    if (!doccy) {\n        doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'] = minDoc;\n    }\n}\n\nmodule.exports = doccy;\n","\"use strict\";\n\nmodule.exports = function isObject(x) {\n\treturn typeof x === \"object\" && x !== null;\n};\n","import isObject from 'is-object'\r\n\r\nexport function applyProperties(node, props, previous) {\r\n  for (var propName in props) {\r\n    var propValue = props[propName]\r\n    if (propValue === undefined) {\r\n      removeProperty(node, propName, propValue, previous);\r\n    } else {\r\n      if (isObject(propValue)) {\r\n        patchObject(node, props, previous, propName, propValue);\r\n      } else {\r\n        node[propName] = propValue\r\n      }\r\n    }\r\n  }  \r\n}\r\nfunction removeProperty(node, propName, propValue, previous) {\r\n  if (previous) {\r\n    var previousValue = previous[propName]\r\n    if (propName === \"attributes\") {\r\n      for (var attrName in previousValue) {\r\n        node.removeAttribute(attrName)\r\n      }\r\n    } else if (propName === \"style\") {\r\n      for (var i in previousValue) {\r\n        node.style[i] = \"\"\r\n      }\r\n    } else if (typeof previousValue === \"string\") {\r\n      node[propName] = \"\"\r\n    } else {\r\n      node[propName] = null\r\n    }\r\n  }\r\n}\r\nfunction patchObject(node, props, previous, propName, propValue) {\r\n  var previousValue = previous ? previous[propName] : undefined\r\n\r\n  if (propName === \"attributes\") {\r\n    for (var attrName in propValue) {\r\n      var attrValue = propValue[attrName]\r\n      if (attrValue === undefined) {\r\n        node.removeAttribute(attrName)\r\n      } else {\r\n        node.setAttribute(attrName, attrValue)\r\n      }\r\n    }\r\n    return\r\n  }\r\n  if (previousValue && isObject(previousValue) && getPrototype(previousValue) !== getPrototype(propValue)) {\r\n    node[propName] = propValue\r\n    return\r\n  }\r\n  if (!isObject(node[propName])) {\r\n    node[propName] = {}\r\n  }\r\n  var replacer = propName === \"style\" ? \"\" : undefined\r\n\r\n  for (var k in propValue) {\r\n    var value = propValue[k]\r\n    node[propName][k] = (value === undefined) ? replacer : value\r\n  }\r\n}\r\n\r\nfunction getPrototype(value) {\r\n  if (Object.getPrototypeOf) {\r\n      return Object.getPrototypeOf(value)\r\n  } else if (value.__proto__) {\r\n      return value.__proto__\r\n  } else if (value.constructor) {\r\n      return value.constructor.prototype\r\n  }\r\n}","// 真实DOM\r\nimport document from 'global/document'\r\nimport { isVText, isVNode } from './util'\r\nimport { applyProperties } from './apply-properties'\r\n\r\nexport function createElement(vnode) {\r\n  if (isVText(vnode)) {\r\n    return document.createTextNode(vnode.text)\r\n  }\r\n  var node = document.createElement(vnode.tagName)\r\n  var props = vnode.properties\r\n  applyProperties(node, props)\r\n  var children = vnode.children\r\n  for (let i = 0; i < children.length; i++) {\r\n    var childNode = createElement(children[i])\r\n    if (childNode) {\r\n      node.appendChild(childNode)\r\n    }\r\n  }\r\n  return node \r\n}","export default class VirtualPatch{\r\n  constructor(type, vNode, patch) {\r\n    this.type = Number(type)\r\n    this.vNode = vNode\r\n    this.patch = patch\r\n  }\r\n}\r\nVirtualPatch.prototype.type = \"VirtualPatch\"\r\nVirtualPatch.NONE = 0\r\nVirtualPatch.VTEXT = 1\r\nVirtualPatch.VNODE = 2\r\nVirtualPatch.WIDGET = 3\r\nVirtualPatch.PROPS = 4\r\nVirtualPatch.ORDER = 5\r\nVirtualPatch.INSERT = 6\r\nVirtualPatch.REMOVE = 7 \r\nVirtualPatch.THUNK = 8","import { isArray } from './util'\r\nimport VNode from './vnode'\r\nimport VText from './vtext'\r\nimport VPatch from './vpatch'\r\n\r\n// diff函数，对比两棵树\r\nexport default function diff(a, b) {\r\n  var patch = { a: a }\r\n  walk(a, b, patch, 0)\r\n  return patch\r\n}\r\n// 对两棵树深度优先遍历\r\nfunction walk(a, b, patch, index) {\r\n  if (a === b) {\r\n    return\r\n  }\r\n  var apply = patch[index]\r\n  var applyClear = false\r\n\r\n  if (b == null) {\r\n    apply = appendPatch(apply, new VPatch(VPatch.REMOVE, a, b))\r\n  } else if (isVNode(b)) {\r\n    if (isVNode(a)) {\r\n      if (a.tagName === b.tagName) {\r\n        var propsPatch = diffProps(a.properties, b.properties)\r\n        if (propsPatch) {\r\n          apply = appendPatch(apply, new VPatch(VPatch.PROPS, a, propsPatch))\r\n        }\r\n      }\r\n      apply = diffChildren(a, b, patch, apply, index)\r\n    } else {\r\n      apply = appendPatch(apply, new VPatch(VPatch.VNODE, a, b))\r\n      applyClear = true\r\n    }\r\n  } else if (isVText(b)) {\r\n    if (!isVText(a)) {\r\n      apply = appendPatch(apply, new VPatch(VPatch.VTEXT, a, b))\r\n      applyClear = true\r\n    } else if (a.text !== b.text) {\r\n      apply = appendPatch(apply, new VPatch(VPatch.VTEXT, a, b))\r\n    }\r\n  }\r\n\r\n\r\n  if (apply) {\r\n    patch[index] = apply\r\n  }\r\n}\r\nfunction diffChildren(a, b, patch, apply, index) {\r\n  var aChildren = a.children\r\n  var orderedSet = reorder(aChildren, b.children)\r\n  var bChildren = orderedSet.children\r\n\r\n  var aLen = aChildren.length\r\n  var bLen = bChildren.length\r\n  var len = aLen > bLen ? aLen : bLen\r\n\r\n  for(var i = 0; i < len; i++) {\r\n    var leftNode = aChildren[i]\r\n    var rightNode = bChildren[i]\r\n    index += 1\r\n\r\n    if (!leftNode) {\r\n      if (rightNode) {\r\n        apply = appendPatch(apply, new VPatch(VPatch.INSERT, null, rightNode))\r\n      }\r\n    } else {\r\n      walk(leftNode, rightNode, patch, index)\r\n    }\r\n    if (isVNode(leftNode) && leftNode.count) {\r\n      index += leftNode.count\r\n    }\r\n  }\r\n  return apply\r\n}\r\n\r\n\r\nfunction reorder(aChildren, bChildren) {\r\n  \r\n}\r\nfunction appendPatch(apply, VPatch) {\r\n  if (apply) {\r\n    if (isArray(apply)) {\r\n      apply.push(VPatch)\r\n    } else {\r\n      apply = [apply, VPatch]\r\n    }\r\n    return apply\r\n  } else {\r\n    return VPatch\r\n  }\r\n}\r\n"],"names":["isVNode","isVText","isArray","removeEventListener","addEventListener","dispatchEvent","serializeNode","DOMElement","DOMText","DocumentFragment","Event","Comment","Document","global","minDoc","document","VPatch"],"mappings":"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"}